# üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

## –û–±–∑–æ—Ä –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã

```
bot_raid_telegram/
‚îÇ
‚îú‚îÄ‚îÄ ü§ñ –£–ü–†–ê–í–õ–Ø–Æ–©–ò–ô –ë–û–¢
‚îÇ   ‚îú‚îÄ‚îÄ bot.py                    # –ì–ª–∞–≤–Ω—ã–π —Ñ–∞–π–ª, –∑–∞–ø—É—Å–∫ –±–æ—Ç–∞
‚îÇ   ‚îú‚îÄ‚îÄ keyboards.py              # –í—Å–µ –∫–ª–∞–≤–∏–∞—Ç—É—Ä—ã –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞
‚îÇ   ‚îî‚îÄ‚îÄ handlers/                 # –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∫–æ–º–∞–Ω–¥
‚îÇ       ‚îú‚îÄ‚îÄ accounts_handlers.py  # –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∞–∫–∫–∞—É–Ω—Ç–∞–º–∏
‚îÇ       ‚îú‚îÄ‚îÄ tasks_handlers.py     # –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∑–∞–¥–∞—á–∞–º–∏
‚îÇ       ‚îú‚îÄ‚îÄ actions_handlers.py   # –ó–∞–ø—É—Å–∫ –¥–µ–π—Å—Ç–≤–∏–π
‚îÇ       ‚îî‚îÄ‚îÄ templates_handlers.py # –®–∞–±–ª–æ–Ω—ã —Å–æ–æ–±—â–µ–Ω–∏–π
‚îÇ
‚îú‚îÄ‚îÄ ‚öôÔ∏è –°–ò–°–¢–ï–ú–ê –£–ü–†–ê–í–õ–ï–ù–ò–Ø
‚îÇ   ‚îú‚îÄ‚îÄ config.py                 # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –ø—Ä–æ–µ–∫—Ç–∞
‚îÇ   ‚îú‚îÄ‚îÄ database.py               # –†–∞–±–æ—Ç–∞ —Å SQLite –ë–î
‚îÇ   ‚îî‚îÄ‚îÄ modules/
‚îÇ       ‚îú‚îÄ‚îÄ account_manager.py    # –ú–µ–Ω–µ–¥–∂–µ—Ä –∞–∫–∫–∞—É–Ω—Ç–æ–≤
‚îÇ       ‚îî‚îÄ‚îÄ task_manager.py       # –ú–µ–Ω–µ–¥–∂–µ—Ä –∑–∞–¥–∞—á
‚îÇ
‚îú‚îÄ‚îÄ üéØ –ú–û–î–£–õ–ò –î–ï–ô–°–¢–í–ò–ô
‚îÇ   ‚îî‚îÄ‚îÄ modules/
‚îÇ       ‚îú‚îÄ‚îÄ group_actions.py      # –í—Ö–æ–¥/–≤—ã—Ö–æ–¥ –∏–∑ –≥—Ä—É–ø–ø
‚îÇ       ‚îú‚îÄ‚îÄ screenshot_spam.py    # –°–∫—Ä–∏–Ω—à–æ—Ç-—É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è
‚îÇ       ‚îú‚îÄ‚îÄ mass_messaging.py     # –ú–∞—Å—Å–æ–≤–∞—è —Ä–∞—Å—Å—ã–ª–∫–∞
‚îÇ       ‚îú‚îÄ‚îÄ voice_calls.py        # –ì–æ–ª–æ—Å–æ–≤—ã–µ —á–∞—Ç—ã
‚îÇ       ‚îú‚îÄ‚îÄ reactions.py          # –†–µ–∞–∫—Ü–∏–∏ –Ω–∞ —Å–æ–æ–±—â–µ–Ω–∏—è
‚îÇ       ‚îú‚îÄ‚îÄ subscriptions.py      # –ü–æ–¥–ø–∏—Å–∫–∏ –Ω–∞ –∫–∞–Ω–∞–ª—ã
‚îÇ       ‚îú‚îÄ‚îÄ bot_starter.py        # –ó–∞–ø—É—Å–∫ –±–æ—Ç–æ–≤
‚îÇ       ‚îî‚îÄ‚îÄ cleanup.py            # –û—á–∏—Å—Ç–∫–∞ –∞–∫–∫–∞—É–Ω—Ç–æ–≤
‚îÇ
‚îú‚îÄ‚îÄ üíæ –î–ê–ù–ù–´–ï
‚îÇ   ‚îú‚îÄ‚îÄ bot_data.db              # –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö (—Å–æ–∑–¥–∞–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏)
‚îÇ   ‚îú‚îÄ‚îÄ sessions/                # –°–µ—Å—Å–∏–∏ —é–∑–µ—Ä–±–æ—Ç–æ–≤
‚îÇ   ‚îî‚îÄ‚îÄ audio/                   # –ê—É–¥–∏–æ –¥–ª—è –≥–æ–ª–æ—Å–æ–≤—ã—Ö —á–∞—Ç–æ–≤
‚îÇ
‚îî‚îÄ‚îÄ üìö –î–û–ö–£–ú–ï–ù–¢–ê–¶–ò–Ø
    ‚îú‚îÄ‚îÄ README.md                # –ü–æ–ª–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
    ‚îú‚îÄ‚îÄ QUICKSTART.md            # –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç
    ‚îú‚îÄ‚îÄ DEVELOPMENT.md           # –†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞
    ‚îî‚îÄ‚îÄ PROJECT_STRUCTURE.md     # –≠—Ç–æ—Ç —Ñ–∞–π–ª
```

## –ü–æ—Ç–æ–∫–∏ –¥–∞–Ω–Ω—ã—Ö

### 1. –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –∞–∫–∫–∞—É–Ω—Ç–∞
```
–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å ‚Üí Bot Handler ‚Üí AccountManager ‚Üí Telethon ‚Üí Database
```

### 2. –ó–∞–ø—É—Å–∫ –∑–∞–¥–∞—á–∏
```
–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å ‚Üí Actions Handler ‚Üí TaskManager ‚Üí Module ‚Üí Telethon ‚Üí Database
                                      ‚Üì
                                 (—Ñ–æ–Ω–æ–≤–∞—è –∑–∞–¥–∞—á–∞)
                                      ‚Üì
                                  –†–µ–∑—É–ª—å—Ç–∞—Ç—ã ‚Üí Database
```

### 3. –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∑–∞–¥–∞—á–∏
```
–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å ‚Üí Tasks Handler ‚Üí Database ‚Üí –í—ã–≤–æ–¥ —Å—Ç–∞—Ç—É—Å–∞
```

## –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã

### ü§ñ Bot (bot.py)
- –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è aiogram –±–æ—Ç–∞
- –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è —Ä–æ—É—Ç–µ—Ä–æ–≤
- –û–±—Ä–∞–±–æ—Ç–∫–∞ /start –∫–æ–º–∞–Ω–¥—ã
- –ì–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é

### üìã Keyboards (keyboards.py)
- –í—Å–µ inline-–∫–ª–∞–≤–∏–∞—Ç—É—Ä—ã
- –ú–µ–Ω—é –Ω–∞–≤–∏–≥–∞—Ü–∏–∏
- –ö–Ω–æ–ø–∫–∏ –¥–µ–π—Å—Ç–≤–∏–π
- –ü–∞–≥–∏–Ω–∞—Ü–∏—è

### üéõ Handlers
**accounts_handlers.py**
- –°–ø–∏—Å–æ–∫ –∞–∫–∫–∞—É–Ω—Ç–æ–≤ (—Å –ø–∞–≥–∏–Ω–∞—Ü–∏–µ–π)
- –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤—ã—Ö –∞–∫–∫–∞—É–Ω—Ç–æ–≤ (FSM)
- –ü—Ä–æ–≤–µ—Ä–∫–∞ –∑–¥–æ—Ä–æ–≤—å—è
- –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–µ—Å—Å–∏—è–º–∏

**tasks_handlers.py**
- –ê–∫—Ç–∏–≤–Ω—ã–µ –∑–∞–¥–∞—á–∏
- –ò—Å—Ç–æ—Ä–∏—è –∑–∞–¥–∞—á
- –î–µ—Ç–∞–ª–∏ –∑–∞–¥–∞—á–∏
- –û—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–¥–∞—á

**actions_handlers.py**
- –í—ã–±–æ—Ä –¥–µ–π—Å—Ç–≤–∏—è
- –í—ã–±–æ—Ä –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ –∞–∫–∫–∞—É–Ω—Ç–æ–≤
- –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ (FSM)
- –ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ –∏ –∑–∞–ø—É—Å–∫

**templates_handlers.py**
- –°–ø–∏—Å–æ–∫ —à–∞–±–ª–æ–Ω–æ–≤
- –°–æ–∑–¥–∞–Ω–∏–µ —à–∞–±–ª–æ–Ω–æ–≤ (FSM)
- –£–¥–∞–ª–µ–Ω–∏–µ —à–∞–±–ª–æ–Ω–æ–≤

### ‚öôÔ∏è Core Modules

**config.py**
- –ó–∞–≥—Ä—É–∑–∫–∞ .env
- –ö–æ–Ω—Å—Ç–∞–Ω—Ç—ã –ø—Ä–æ–µ–∫—Ç–∞
- –°–æ–∑–¥–∞–Ω–∏–µ –ø–∞–ø–æ–∫

**database.py**
- –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ë–î
- CRUD –æ–ø–µ—Ä–∞—Ü–∏–∏ –¥–ª—è:
  - –ê–∫–∫–∞—É–Ω—Ç–æ–≤
  - –ó–∞–¥–∞—á
  - –®–∞–±–ª–æ–Ω–æ–≤
  - –ù–∞—Å—Ç—Ä–æ–µ–∫

**account_manager.py**
- –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è –Ω–æ–≤—ã—Ö –∞–∫–∫–∞—É–Ω—Ç–æ–≤
- –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ Telethon –∫–ª–∏–µ–Ω—Ç–∞–º–∏
- –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–æ—Å—Ç–æ—è–Ω–∏—è
- –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–µ—Å—Å–∏—è–º–∏
- –£–¥–∞–ª–µ–Ω–∏–µ –∞–∫–∫–∞—É–Ω—Ç–æ–≤

**task_manager.py**
- –°–æ–∑–¥–∞–Ω–∏–µ –∑–∞–¥–∞—á
- –ó–∞–ø—É—Å–∫ –≤ —Ñ–æ–Ω–µ (asyncio.Task)
- –û—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–¥–∞—á (Event —Ñ–ª–∞–≥–∏)
- –ú–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏—è –∫ –º–æ–¥—É–ª—è–º

### üéØ Action Modules

–í—Å–µ –º–æ–¥—É–ª–∏ –∏–º–µ—é—Ç –µ–¥–∏–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å:

```python
async def action_name(
    account_manager: AccountManager,
    account_ids: List[int],
    config: Dict,
    stop_flag: asyncio.Event
) -> List[Dict]:
    # –õ–æ–≥–∏–∫–∞ –¥–µ–π—Å—Ç–≤–∏—è
    pass
```

**group_actions.py**
- join: –≤–æ–π—Ç–∏ –≤ –≥—Ä—É–ø–ø—É
- leave: –≤—ã–π—Ç–∏ –∏–∑ –≥—Ä—É–ø–ø—ã
- cycle: —Ü–∏–∫–ª–∏—á–Ω–æ –≤—Ö–æ–¥–∏—Ç—å/–≤—ã—Ö–æ–¥–∏—Ç—å

**screenshot_spam.py**
- –û—Ç–ø—Ä–∞–≤–∫–∞ SendScreenshotNotification

**mass_messaging.py**
- –û—Ç–ø—Ä–∞–≤–∫–∞ —Å–æ–æ–±—â–µ–Ω–∏–π –≤ –≥—Ä—É–ø–ø—É
- –°–ª—É—á–∞–π–Ω—ã–π –≤—ã–±–æ—Ä –∏–∑ —à–∞–±–ª–æ–Ω–æ–≤

**voice_calls.py**
- –í—Å—Ç—É–ø–ª–µ–Ω–∏–µ –≤ –≥–æ–ª–æ—Å–æ–≤–æ–π —á–∞—Ç
- (–ü–æ–¥–¥–µ—Ä–∂–∫–∞ pytgcalls –¥–ª—è –∞—É–¥–∏–æ)

**reactions.py**
- –£—Å—Ç–∞–Ω–æ–≤–∫–∞ —Ä–µ–∞–∫—Ü–∏–π
- –°–ª—É—á–∞–π–Ω—ã–µ/—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —ç–º–æ–¥–∑–∏

**subscriptions.py**
- –ü–æ–¥–ø–∏—Å–∫–∞ –Ω–∞ –∫–∞–Ω–∞–ª—ã

**bot_starter.py**
- –ó–∞–ø—É—Å–∫ –±–æ—Ç–æ–≤ —Å /start –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–º

**cleanup.py**
- –í—ã—Ö–æ–¥ –∏–∑ –≤—Å–µ—Ö —á–∞—Ç–æ–≤
- –û—Ç–ø–∏—Å–∫–∞ –æ—Ç –∫–∞–Ω–∞–ª–æ–≤
- –û—á–∏—Å—Ç–∫–∞ –ø–µ—Ä–µ–ø–∏—Å–æ–∫

## –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö

### –°—Ö–µ–º–∞ —Ç–∞–±–ª–∏—Ü

**accounts**
```sql
id              INTEGER PRIMARY KEY
phone           TEXT UNIQUE
session_name    TEXT UNIQUE
status          TEXT (active/inactive/banned/error/unauthorized)
created_at      TIMESTAMP
last_used       TIMESTAMP
error_count     INTEGER
last_error      TEXT
```

**tasks**
```sql
id              INTEGER PRIMARY KEY
task_type       TEXT
status          TEXT (pending/running/completed/failed/stopped)
config          TEXT (JSON)
created_at      TIMESTAMP
started_at      TIMESTAMP
finished_at     TIMESTAMP
accounts_used   TEXT (JSON)
results         TEXT (JSON)
```

**message_templates**
```sql
id              INTEGER PRIMARY KEY
name            TEXT
content         TEXT
created_at      TIMESTAMP
```

**settings**
```sql
key             TEXT PRIMARY KEY
value           TEXT
```

## –°–æ—Å—Ç–æ—è–Ω–∏—è FSM

### AddAccountStates
- phone: –í–≤–æ–¥ –Ω–æ–º–µ—Ä–∞ —Ç–µ–ª–µ—Ñ–æ–Ω–∞
- code: –í–≤–æ–¥ –∫–æ–¥–∞ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è
- password: –í–≤–æ–¥ –ø–∞—Ä–æ–ª—è 2FA

### ActionStates
- select_accounts: –í—ã–±–æ—Ä –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ –∞–∫–∫–∞—É–Ω—Ç–æ–≤
- configure: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –¥–µ–π—Å—Ç–≤–∏—è
- confirm: –ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ –∑–∞–ø—É—Å–∫–∞

### TemplateStates
- name: –í–≤–æ–¥ –Ω–∞–∑–≤–∞–Ω–∏—è —à–∞–±–ª–æ–Ω–∞
- content: –í–≤–æ–¥ —Ç–µ–∫—Å—Ç–∞ —à–∞–±–ª–æ–Ω–∞

## –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

### –ó–∞—â–∏—Ç–∞ –¥–∞–Ω–Ω—ã—Ö
- ‚úÖ `.env` –≤ `.gitignore`
- ‚úÖ –°–µ—Å—Å–∏–∏ –≤ –æ—Ç–¥–µ–ª—å–Ω–æ–π –ø–∞–ø–∫–µ
- ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ ADMIN_ID
- ‚úÖ –•–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–∞—Ä–æ–ª–µ–π (Telethon)

### –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫
- ‚úÖ Try/except –¥–ª—è –≤—Å–µ—Ö Telegram –æ–ø–µ—Ä–∞—Ü–∏–π
- ‚úÖ –û–±—Ä–∞–±–æ—Ç–∫–∞ FloodWait
- ‚úÖ –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –æ—à–∏–±–æ–∫
- ‚úÖ –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–æ–≤

## –ú–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ—Å—Ç—å

### –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º–∞—è –Ω–∞–≥—Ä—É–∑–∫–∞
- ‚úÖ –ù–µ–æ–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∞–∫–∫–∞—É–Ω—Ç–æ–≤
- ‚úÖ –ú–Ω–æ–∂–µ—Å—Ç–≤–æ –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω—ã—Ö –∑–∞–¥–∞—á
- ‚úÖ –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞
- ‚úÖ –ú–∏–Ω–∏–º–∞–ª—å–Ω–æ–µ –ø–æ—Ç—Ä–µ–±–ª–µ–Ω–∏–µ –ø–∞–º—è—Ç–∏

### –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ aiosqlite
- –ö–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ Telethon –∫–ª–∏–µ–Ω—Ç–æ–≤
- –ü–∞–≥–∏–Ω–∞—Ü–∏—è —Å–ø–∏—Å–∫–æ–≤
- –£–¥–∞–ª–µ–Ω–∏–µ —Å—Ç–∞—Ä—ã—Ö —Å–æ–æ–±—â–µ–Ω–∏–π

## –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏

### –û—Å–Ω–æ–≤–Ω—ã–µ
- **aiogram** 3.4.1 - Telegram Bot API
- **telethon** 1.34.0 - Telegram Client API (—é–∑–µ—Ä–±–æ—Ç—ã)
- **aiosqlite** - –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∞—è —Ä–∞–±–æ—Ç–∞ —Å SQLite

### –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ
- **pytgcalls** - –ì–æ–ª–æ—Å–æ–≤—ã–µ —á–∞—Ç—ã (–¥–ª—è –ø—Ä–æ–¥–≤–∏–Ω—É—Ç—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π)

---

**–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ:** –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Å–ø—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω–∞ –¥–ª—è —É–¥–æ–±–Ω–æ–≥–æ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è –∏ –ø–æ–¥–¥–µ—Ä–∂–∫–∏.
